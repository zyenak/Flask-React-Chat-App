{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{bindActionCreators}from'redux';import{actionCreators}from'../state/index';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[users,setUsers]=useState([]);const navigate=useNavigate();const isAuthenticated=useSelector(state=>state.isAuthenticated||false);const dispatch=useDispatch();const{setAuthentication}=bindActionCreators(actionCreators,dispatch);useEffect(()=>{fetch('/api/login').then(response=>{if(response.ok){return response.json();}}).then(data=>setUsers(data));},[]);const handleLogin=()=>{// Check if there is a user with the entered username and password\nconst matchingUser=users.find(user=>user.username===username&&user.password===password);// Log success or fail based on the result\nif(matchingUser){// Redirect to the ChatPage\nsetAuthentication(true);navigate('/chat');console.log('Login success');}else{console.log('Login fail');}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md w-96\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl mb-4\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"w-full border border-gray-300 p-2 rounded\",value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Enter your username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"w-full border border-gray-300 p-2 rounded\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Enter your password\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",onClick:handleLogin,children:\"Login\"})]})});};export default LoginPage;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","bindActionCreators","actionCreators","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginPage","username","setUsername","password","setPassword","users","setUsers","navigate","isAuthenticated","state","dispatch","setAuthentication","fetch","then","response","ok","json","data","handleLogin","matchingUser","find","user","console","log","className","children","htmlFor","type","id","value","onChange","e","target","placeholder","onClick"],"sources":["D:/ZyPrograms/Quest/Projects/Chat/react-chat-app/src/components/LoginDialogue.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { actionCreators } from '../state/index';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\n\r\nconst LoginPage = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [users, setUsers] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    const isAuthenticated = useSelector((state) => state.isAuthenticated || false);\r\n\r\n    const dispatch = useDispatch();\r\n    const { setAuthentication } = bindActionCreators(actionCreators, dispatch);\r\n\r\n\r\n    useEffect(() => {\r\n        fetch('/api/login')\r\n            .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                }\r\n            })\r\n            .then((data) => setUsers(data));\r\n    }, []);\r\n\r\n    const handleLogin = () => {\r\n        // Check if there is a user with the entered username and password\r\n        const matchingUser = users.find(\r\n            (user) => user.username === username && user.password === password\r\n        );\r\n\r\n        // Log success or fail based on the result\r\n        if (matchingUser) {\r\n            // Redirect to the ChatPage\r\n            setAuthentication(true);\r\n            navigate('/chat');\r\n            console.log('Login success');\r\n        } else {\r\n            console.log('Login fail');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n            <div className=\"bg-white p-8 rounded-lg shadow-md w-96\">\r\n                <h1 className=\"text-4xl mb-4\">Login</h1>\r\n                <div className=\"mb-4\">\r\n                    <label htmlFor=\"username\" className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                        Username\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"username\"\r\n                        className=\"w-full border border-gray-300 p-2 rounded\"\r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                        placeholder=\"Enter your username\"\r\n                    />\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                    <label htmlFor=\"password\" className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                        Password\r\n                    </label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        className=\"w-full border border-gray-300 p-2 rounded\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        placeholder=\"Enter your password\"\r\n                    />\r\n                </div>\r\n                <button\r\n                    className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\r\n                    onClick={handleLogin}\r\n                >\r\n                    Login\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}